{"ast":null,"code":"import _slicedToArray from\"/home/rutts07/IIITH_Files/DASS/Assignment1/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useEffect}from\"react\";import{Link,useLocation,useParams}from\"react-router-dom\";import Badge from\"@mui/material/Badge\";import HomeIcon from\"@mui/icons-material/Home\";import axios from\"axios\";import Paper from\"@mui/material/Paper\";import Grid from\"@mui/material/Grid\";import TableCell from\"@mui/material/TableCell\";import TableHead from\"@mui/material/TableHead\";import TableRow from\"@mui/material/TableRow\";import Table from\"@mui/material/Table\";import TableBody from\"@mui/material/TableBody\";import Button from\"@mui/material/Button\";import FastfoodIcon from\"@mui/icons-material/Fastfood\";import{Typography}from\"@mui/material\";import Box from\"@mui/material/Box\";import Tooltip from\"@mui/material/Tooltip\";import Zoom from\"@mui/material/Zoom\";import LogoutIcon from\"@mui/icons-material/Logout\";import Menu from\"@mui/material/Menu\";import MenuItem from\"@mui/material/MenuItem\";import MonetizationOnIcon from\"@mui/icons-material/MonetizationOn\";import AccountCircleIcon from\"@mui/icons-material/AccountCircle\";import Card from\"@mui/material/Card\";import CardActions from\"@mui/material/CardActions\";import CardContent from\"@mui/material/CardContent\";import AddCardIcon from\"@mui/icons-material/AddCard\";import TextField from\"@mui/material/TextField\";import List from\"@mui/material/List\";import ListItem from\"@mui/material/ListItem\";import Divider from\"@mui/material/Divider\";import Autocomplete from\"@mui/material/Autocomplete\";import IconButton from\"@mui/material/IconButton\";import InputAdornment from\"@mui/material/InputAdornment\";import SearchIcon from\"@mui/icons-material/Search\";import ArrowUpwardIcon from\"@mui/icons-material/ArrowUpward\";import ArrowDownwardIcon from\"@mui/icons-material/ArrowDownward\";import\"./Nav.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Buyer_Profile(){var _id=\"\"+useParams().username;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),shopName=_useState2[0],setShopName=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),orders=_useState4[0],setOrders=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),viewOrders=_useState6[0],setViewOrders=_useState6[1];useEffect(function(){axios.post(\"http://localhost:5000/vendor/vendor-name\",{_id:_id}).then(function(response){setShopName(response.data.shopName);}).catch(function(error){});axios.post(\"http://localhost:5000/order/vendor-orders\",{shopName:shopName}).then(function(response){setOrders(response.data);}).catch(function(error){});},[]);function ShowOrders(){return/*#__PURE__*/_jsxs(Box,{sx:{alignItems:\"center\"},children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(Table,{size:\"small\",children:[/*#__PURE__*/_jsx(TableHead,{children:/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:\"Buyer\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Item Name\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Price\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Set Status\"}),/*#__PURE__*/_jsx(TableCell,{children:\"Status\"})]})}),/*#__PURE__*/_jsx(TableBody,{children:orders.map(function(order,ind){return/*#__PURE__*/_jsxs(TableRow,{children:[/*#__PURE__*/_jsx(TableCell,{children:order.buyerEmail}),/*#__PURE__*/_jsx(TableCell,{children:order.itemName}),/*#__PURE__*/_jsx(TableCell,{children:order.price}),/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"primary\",variant:\"contained\",onClick:function onClick(){var status={_id:order._id,status:\"Accepted\"};axios.post(\"http://localhost:5000/order/update-status\",status).then(function(response){}).catch(function(error){});axios.post(\"http://localhost:5000/order/vendor-orders\",{shopName:shopName}).then(function(response){setOrders(response.data);}).catch(function(error){});if(viewOrders==true){setViewOrders(false);setTimeout(function(){setViewOrders(true);},3000);}},children:\"Accept\"}),\" \",/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"error\",variant:\"outlined\",children:\"Cancel\"}),\" \",/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"success\",variant:\"outlined\",onClick:function onClick(){var status={_id:order._id,status:\"Ready For Pickup\"};axios.post(\"http://localhost:5000/order/update-status\",status).then(function(response){}).catch(function(error){});axios.post(\"http://localhost:5000/order/vendor-orders\",{shopName:shopName}).then(function(response){setOrders(response.data);}).catch(function(error){});if(viewOrders==true){setViewOrders(false);setTimeout(function(){setViewOrders(true);},3000);}},children:\"Ready\"}),\" \",/*#__PURE__*/_jsx(Button,{size:\"small\",color:\"secondary\",variant:\"contained\",onClick:function onClick(){var status={_id:order._id};axios.post(\"http://localhost:5000/order/delete-order\",status).then(function(response){}).catch(function(error){});axios.post(\"http://localhost:5000/order/vendor-orders\",{shopName:shopName}).then(function(response){setOrders(response.data);}).catch(function(error){});if(viewOrders==true){setViewOrders(false);setTimeout(function(){setViewOrders(true);},3000);}},children:\"Done\"})]}),/*#__PURE__*/_jsx(TableCell,{children:order.status})]},ind);})})]})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"header\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"Navigator1\",children:[/*#__PURE__*/_jsx(Box,{sx:{width:\"100%\",display:\"inline-flex\",alignItems:\"center\",flexDirection:\"row\"},children:/*#__PURE__*/_jsx(Typography,{children:/*#__PURE__*/_jsx(\"h3\",{children:\"\\u2003\\u2003Current Orders\"})})}),\"\\u2003\",/*#__PURE__*/_jsxs(Box,{sx:{flexShrink:0,alignItems:\"center\",justifyContent:\"flex-end\"},children:[/*#__PURE__*/_jsx(Link,{to:{pathname:\"/vendor/\"+_id},children:/*#__PURE__*/_jsx(Tooltip,{TransitionComponent:Zoom,title:\"Home\",arrow:true,children:/*#__PURE__*/_jsx(Button,{sx:{alignItems:\"center\",borderRadius:\"16px\"},size:\"small\",children:/*#__PURE__*/_jsx(HomeIcon,{fontSize:\"large\"})})})}),/*#__PURE__*/_jsx(Link,{to:\"/\",style:{color:\"black\",textDecoration:\"inherit\"},children:/*#__PURE__*/_jsx(Tooltip,{TransitionComponent:Zoom,title:\"Log Out\",arrow:true,children:/*#__PURE__*/_jsx(Button,{sx:{alignItems:\"center\",borderRadius:\"16px\"},children:/*#__PURE__*/_jsx(LogoutIcon,{fontSize:\"large\"})})})})]})]})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Grid,{container:true,justify:\"center\",align:\"center\",direction:\"row\",justifyContent:\"center\",spacing:4,children:/*#__PURE__*/_jsxs(Grid,{item:true,xs:8,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"outlined\",onClick:function onClick(){if(viewOrders==false){setViewOrders(true);axios.post(\"http://localhost:5000/order/vendor-orders\",{shopName:shopName}).then(function(response){setOrders(response.data);}).catch(function(error){});}else setViewOrders(false);},children:\"View your Orders\"}),viewOrders?/*#__PURE__*/_jsx(ShowOrders,{}):null]})})}),/*#__PURE__*/_jsx(\"br\",{})]});}","map":{"version":3,"sources":["/home/rutts07/IIITH_Files/DASS/Assignment1/frontend/src/routes/Vendor_Order.js"],"names":["React","useState","useEffect","Link","useLocation","useParams","Badge","HomeIcon","axios","Paper","Grid","TableCell","TableHead","TableRow","Table","TableBody","Button","FastfoodIcon","Typography","Box","Tooltip","Zoom","LogoutIcon","Menu","MenuItem","MonetizationOnIcon","AccountCircleIcon","Card","CardActions","CardContent","AddCardIcon","TextField","List","ListItem","Divider","Autocomplete","IconButton","InputAdornment","SearchIcon","ArrowUpwardIcon","ArrowDownwardIcon","Buyer_Profile","_id","username","shopName","setShopName","orders","setOrders","viewOrders","setViewOrders","post","then","response","data","catch","error","ShowOrders","alignItems","map","order","ind","buyerEmail","itemName","price","status","setTimeout","width","display","flexDirection","flexShrink","justifyContent","pathname","borderRadius","color","textDecoration"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useState, useEffect } from \"react\";\nimport { Link, useLocation, useParams } from \"react-router-dom\";\nimport Badge from \"@mui/material/Badge\";\nimport HomeIcon from \"@mui/icons-material/Home\";\nimport axios from \"axios\";\nimport Paper from \"@mui/material/Paper\";\nimport Grid from \"@mui/material/Grid\";\nimport TableCell from \"@mui/material/TableCell\";\nimport TableHead from \"@mui/material/TableHead\";\nimport TableRow from \"@mui/material/TableRow\";\nimport Table from \"@mui/material/Table\";\nimport TableBody from \"@mui/material/TableBody\";\nimport Button from \"@mui/material/Button\";\nimport FastfoodIcon from \"@mui/icons-material/Fastfood\";\nimport { Typography } from \"@mui/material\";\nimport Box from \"@mui/material/Box\";\nimport Tooltip from \"@mui/material/Tooltip\";\nimport Zoom from \"@mui/material/Zoom\";\nimport LogoutIcon from \"@mui/icons-material/Logout\";\nimport Menu from \"@mui/material/Menu\";\nimport MenuItem from \"@mui/material/MenuItem\";\nimport MonetizationOnIcon from \"@mui/icons-material/MonetizationOn\";\nimport AccountCircleIcon from \"@mui/icons-material/AccountCircle\";\nimport Card from \"@mui/material/Card\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardContent from \"@mui/material/CardContent\";\nimport AddCardIcon from \"@mui/icons-material/AddCard\";\nimport TextField from \"@mui/material/TextField\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport Divider from \"@mui/material/Divider\";\nimport Autocomplete from \"@mui/material/Autocomplete\";\nimport IconButton from \"@mui/material/IconButton\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\n\nimport SearchIcon from \"@mui/icons-material/Search\";\nimport ArrowUpwardIcon from \"@mui/icons-material/ArrowUpward\";\nimport ArrowDownwardIcon from \"@mui/icons-material/ArrowDownward\";\n\nimport \"./Nav.css\";\n\nexport default function Buyer_Profile() {\n  const _id = \"\" + useParams().username;\n  const [shopName, setShopName] = useState(\"\");\n  const [orders, setOrders] = useState();\n  const [viewOrders, setViewOrders] = useState(false);\n\n  useEffect(() => {\n    axios\n      .post(\"http://localhost:5000/vendor/vendor-name\", { _id })\n      .then((response) => {\n        setShopName(response.data.shopName);\n      })\n      .catch((error) => {});\n\n    axios\n      .post(\"http://localhost:5000/order/vendor-orders\", { shopName })\n      .then((response) => {\n        setOrders(response.data);\n      })\n      .catch((error) => {});\n  }, []);\n\n  function ShowOrders() {\n    return (\n      <Box sx={{ alignItems: \"center\" }}>\n        <br></br>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell>Buyer</TableCell>\n              <TableCell>Item Name</TableCell>\n              <TableCell>Price</TableCell>\n              <TableCell>Set Status</TableCell>\n              <TableCell>Status</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {orders.map((order, ind) => (\n              <TableRow key={ind}>\n                <TableCell>{order.buyerEmail}</TableCell>\n                <TableCell>{order.itemName}</TableCell>\n                <TableCell>{order.price}</TableCell>\n                <TableCell>\n                  <Button\n                    size=\"small\"\n                    color=\"primary\"\n                    variant=\"contained\"\n                    onClick={function () {\n                      const status = {\n                        _id: order._id,\n                        status: \"Accepted\",\n                      };\n\n                      axios\n                        .post(\n                          \"http://localhost:5000/order/update-status\",\n                          status\n                        )\n                        .then((response) => {})\n                        .catch((error) => {});\n\n                      axios\n                        .post(\"http://localhost:5000/order/vendor-orders\", {\n                          shopName,\n                        })\n                        .then((response) => {\n                          setOrders(response.data);\n                        })\n                        .catch((error) => {});\n\n                      if (viewOrders == true) {\n                        setViewOrders(false);\n                        setTimeout(function () {\n                          setViewOrders(true);\n                        }, 3000);\n                      }\n                    }}\n                  >\n                    Accept\n                  </Button>{\" \"}\n                  <Button size=\"small\" color=\"error\" variant=\"outlined\">\n                    Cancel\n                  </Button>{\" \"}\n                  <Button\n                    size=\"small\"\n                    color=\"success\"\n                    variant=\"outlined\"\n                    onClick={function () {\n                      const status = {\n                        _id: order._id,\n                        status: \"Ready For Pickup\",\n                      };\n\n                      axios\n                        .post(\n                          \"http://localhost:5000/order/update-status\",\n                          status\n                        )\n                        .then((response) => {})\n                        .catch((error) => {});\n\n                      axios\n                        .post(\"http://localhost:5000/order/vendor-orders\", {\n                          shopName,\n                        })\n                        .then((response) => {\n                          setOrders(response.data);\n                        })\n                        .catch((error) => {});\n\n                      if (viewOrders == true) {\n                        setViewOrders(false);\n                        setTimeout(function () {\n                          setViewOrders(true);\n                        }, 3000);\n                      }\n                    }}\n                  >\n                    Ready\n                  </Button>{\" \"}\n                  <Button\n                    size=\"small\"\n                    color=\"secondary\"\n                    variant=\"contained\"\n                    onClick={function () {\n                      const status = {\n                        _id: order._id\n                      };\n\n                      axios\n                        .post(\"http://localhost:5000/order/delete-order\", status)\n                        .then((response) => {})\n                        .catch((error) => {});\n\n                      axios\n                        .post(\"http://localhost:5000/order/vendor-orders\", {\n                          shopName,\n                        })\n                        .then((response) => {\n                          setOrders(response.data);\n                        })\n                        .catch((error) => {});\n\n                      if (viewOrders == true) {\n                        setViewOrders(false);\n                        setTimeout(function () {\n                          setViewOrders(true);\n                        }, 3000);\n                      }\n                    }}\n                  >\n                    Done\n                  </Button>\n                </TableCell>\n                <TableCell>{order.status}</TableCell>\n              </TableRow>\n            ))}\n          </TableBody>\n        </Table>\n      </Box>\n    );\n  }\n\n  return (\n    <div>\n      <header>\n        <div className=\"Navigator1\">\n          <Box\n            sx={{\n              width: \"100%\",\n              display: \"inline-flex\",\n              alignItems: \"center\",\n              flexDirection: \"row\",\n            }}\n          >\n            <Typography>\n              <h3>&emsp;&emsp;Current Orders</h3>\n            </Typography>\n          </Box>\n          &emsp;\n          <Box\n            sx={{\n              flexShrink: 0,\n              alignItems: \"center\",\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <Link\n              to={{\n                pathname: \"/vendor/\" + _id,\n              }}\n            >\n              <Tooltip TransitionComponent={Zoom} title=\"Home\" arrow>\n                <Button\n                  sx={{ alignItems: \"center\", borderRadius: \"16px\" }}\n                  size=\"small\"\n                >\n                  <HomeIcon fontSize=\"large\"></HomeIcon>\n                </Button>\n              </Tooltip>\n            </Link>\n            <Link to=\"/\" style={{ color: \"black\", textDecoration: \"inherit\" }}>\n              <Tooltip TransitionComponent={Zoom} title=\"Log Out\" arrow>\n                <Button sx={{ alignItems: \"center\", borderRadius: \"16px\" }}>\n                  <LogoutIcon fontSize=\"large\"></LogoutIcon>\n                </Button>\n              </Tooltip>\n            </Link>\n          </Box>\n        </div>\n      </header>\n      <Box>\n        <Grid\n          container\n          justify=\"center\"\n          align=\"center\"\n          direction=\"row\"\n          justifyContent={\"center\"}\n          spacing={4}\n        >\n          <Grid item xs={8}>\n            <br></br>\n            <Button\n              variant=\"outlined\"\n              onClick={function () {\n                if (viewOrders == false) {\n                  setViewOrders(true);\n                  axios\n                    .post(\"http://localhost:5000/order/vendor-orders\", {\n                      shopName,\n                    })\n                    .then((response) => {\n                      setOrders(response.data);\n                    })\n                    .catch((error) => {});\n                } else setViewOrders(false);\n              }}\n            >\n              View your Orders\n            </Button>\n            {viewOrders ? <ShowOrders></ShowOrders> : null}\n          </Grid>\n        </Grid>\n      </Box>\n      <br></br>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}